# DO NOT EDIT THIS FILE
# This file is automatically generated by ghats (https://www.npmjs.com/package/ghats)
# Edit the workflow in .github/workflows/ci.ts instead, and run `ghats build` to update this file.
{"name":"CI","on":{"pull_request":{"branches":["main"]},"push":{"branches":["main"]}},"permissions":{},"concurrency":{"group":"${{ github.workflow }}-${{ github.ref }}","cancel-in-progress":false},"jobs":{"lint":{"runs-on":"ubuntu-latest","permissions":{"contents":"read"},"timeout-minutes":5,"steps":[{"with":{"persist-credentials":"false"},"uses":"actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683"},{"uses":"jdx/mise-action@c37c93293d6b742fc901e1406b8f764f6fb19dac"},{"with":{"path":"~/.bun/install/cache","key":"${{ runner.os }}-bun-${{ hashFiles('**/bun.lock') }}","restore-keys":"${{ runner.os }}-bun-"},"uses":"actions/cache@0400d5f644dc74513175e3cd8d07132dd4860809"},{"run":"bun install --frozen-lockfile"},{"run":"bun run lint"}]},"test":{"runs-on":"ubuntu-latest","permissions":{"contents":"read"},"timeout-minutes":5,"steps":[{"with":{"persist-credentials":"false"},"uses":"actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683"},{"uses":"jdx/mise-action@c37c93293d6b742fc901e1406b8f764f6fb19dac"},{"with":{"path":"~/.bun/install/cache","key":"${{ runner.os }}-bun-${{ hashFiles('**/bun.lock') }}","restore-keys":"${{ runner.os }}-bun-"},"uses":"actions/cache@0400d5f644dc74513175e3cd8d07132dd4860809"},{"run":"bun install --frozen-lockfile"},{"run":"bun test --coverage --coverage-reporter=lcov"},{"with":{"token":"${{ secrets.CODECOV_TOKEN }}","files":"coverage/lcov.info","disable_search":"true","verbose":"true"},"uses":"codecov/codecov-action@18283e04ce6e62d37312384ff67231eb8fd56d24"}]},"build-workflow":{"runs-on":"ubuntu-latest","permissions":{"contents":"read"},"timeout-minutes":5,"steps":[{"with":{"persist-credentials":"false"},"uses":"actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683"},{"uses":"jdx/mise-action@c37c93293d6b742fc901e1406b8f764f6fb19dac"},{"with":{"path":"~/.bun/install/cache","key":"${{ runner.os }}-bun-${{ hashFiles('**/bun.lock') }}","restore-keys":"${{ runner.os }}-bun-"},"uses":"actions/cache@0400d5f644dc74513175e3cd8d07132dd4860809"},{"run":"bun install --frozen-lockfile"},{"run":"\ncat <<EOF > ./.github/workflows/example.ts\nimport { Workflow, Job } from \"ghats\";\n\nconst workflow = new Workflow(\"Hello\", {\n  on: \"push\",\n});\n\nworkflow.addJob(\n  new Job(\"hello\", {\n    runsOn: \"ubuntu-latest\",\n  })\n    .uses(\"actions/checkout@v4\")\n    .run(\"echo 'Hello, world!'\"),\n);\n\nexport default workflow;\nEOF\n"},{"run":"bun run ./lib/cli/index.ts install"},{"run":"bun run ./lib/cli/index.ts build ./.github/workflows/example.ts"},{"run":"cat ./.github/workflows/example.yml"}]}}}